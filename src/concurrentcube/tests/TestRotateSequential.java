package concurrentcube.tests;

import concurrentcube.Cube;
import org.junit.jupiter.api.Assertions;

public class TestRotateSequential {
    private static final int SIZE = 4;
    private static final int TIMES = 40;

    private final Cube testingCube = new Cube(SIZE,
                                              (x, y) -> {},
                                              (x, y) -> {},
                                              () -> {},
                                              () -> {}
    );

    public void testRotateAndShowSequential() {
        System.out.println("Testing rotating and showing cube 4 x 4:");

        int testNumber = 0;
        String[] afterRotation = new String[6 * TIMES];
        int layer = 0;

        for (int time = 0; time < TIMES; time++) {
            for (int side = 0; side < 6; side++) {
                int finalSide = side;
                int finalLayer = layer;
                int finalTestNumber = testNumber++;

                Assertions.assertDoesNotThrow(() -> testingCube.rotate(finalSide, finalLayer));
                Assertions.assertDoesNotThrow(() -> {
                    afterRotation[finalTestNumber] = testingCube.show();
                });

                layer = (layer + 1) % SIZE;
            }
            layer = (layer + 1) % SIZE;
        }

        Assertions.assertArrayEquals(EXPECTED, afterRotation, "  - BAD String");
        System.out.println("  + strings OK");
    }

    private static final String[] EXPECTED = {
            "000000000000000022221111111111113333222222222222444433333333333311114444444444445555555555555555",
            "040004000400010022221111111111113033202220222022444433333333333311514454445444545355525552555255",
            "040011120400010025221211151115113033202220222022440433433303330311514454445444545355525533345255",
            "340021122400210021112111525521115033502230225022440433433303330311504450445144504355425543341255",
            "433321122400210001110111425531115033502230225022440533453302330144414441555501004355425543342252",
            "433321122400210001110111555531115033502242555022440533453022330144414441330201004355425543342252",
            "433321122400210001110111555550225033502242553301440533453022010044414441330231115542553532324442",
            "133321121400110055000511251125114033202222552301440533453022010044444443330531155542553542323442",
            "133321121110110055500551253125514033202222552301410534453022000044444443330531155542103442323442",
            "103320121210130055500551253125514533202222552401410534453022000044144413331531355142103444323442",
            "103320121210433055500550253325513251325050244222210544451022500044144413331531350111103444323442",
            "103320121210433055500550253331353251325050242551210544451022422244144413331550003410440143312241",
            "103320121210433055500550502431353251325010222551210544453315422244144413253350003410440143312241",
            "103520121214433455500550502431353253325210202550555204121432243414141413153300003411440043322241",
            "103520121214540055530554502131312133502252550023455234123432443414141413153300002105440043322241",
            "103520221254542055530554502131312103500252350043455234123432443410141113113303002105445043422241",
            "103520225444542055430554502131112103500252350043405235123432443410141113113303002105552343422241",
            "524032420044125510140554502131115543500252350043210335123432443440521113113303002105552343422241",
            "524032420044125510145002502131115543351252350043210311133432443440520554113303002105552343422241",
            "523032120054120510145002502131115543354252450053210311133432443444520454123300002145551343322241",
            "355132120054120520142002402111115543354252450053210511123433443024305530442040102145551343324233",
            "355332120055120320142002402111115545354352420053431244113310032554304530242010102144551443354232",
            "355311120055120322142102422113115545354352420053435244313330034554304530242010102144551400014232",
            "355311120055120322144530422113115545210252420053435235433330034554304431242010102144551400014232",
            "101320150515352355454530422113114352210252420053543035433330034522144431242010102144551400014232",
            "111322150315312355454530422113114052200255420553543035433330034522244401245010102344511402014032",
            "111332550315312350454230402111114052200255420553542035233310035522244401245010102344511443434032",
            "411322555315012350114321020154412052500245424553542035233310035522234400245310110344011413434032",
            "030522555315012330111321120144412052500245424553542235233310035412420442150213030344011413435405",
            "030522555315012330111321150244412052500212014553542235234542035412420442331013030344011413435405",
            "030522555315012330111321150245532052500212010354542235234542130312420442331044414435414031340015",
            "130502552315212341135530502132110052200252010354542235234542130312400443331444442435514011340015",
            "130502551231212341535510504132010052200252010354522233234142150312400443331444442435355411340015",
            "100500551231232341535510504132010452250251010054522233234142150312100423332444342435315414340415",
            "100500551231534141535512504332022214500545100250522233234142250312100423332444343011315414340415",
            "100500551231534141535512504344342214500545103202522233234142025012100423332425030133441013515441",
            "100500551231534141535512451044342214500541423202522233233324025012100423504325030133441013515441",
            "100200551230534141535512451044342215500541413201234022252332533012101423004335030134441513525442",
            "100200551230402341505511451344343452210204011155534032254332133012101423004335035222441513525442",
            "105200051200405341505511451344343422211204511145534032254332133012101323054330035252440513425422",
            "105200053233405341005501452344143422211204511145554030254432143012101323054330035252511313425422",
            "253350350020103412105501452344144100211204511145342230254432143055401323054330035252511313425422",
            "253350350020103412102112452344144100302504511145342213234432143055405501054330035252511313425422",
            "250350550050105412102112452344144130303504211135342213234432143052405401014335035202512313525442",
            "442150550050105452104112452324144130303504211135342213254430143301334040241555035202512313520232",
            "442050550051105552104112452324144132303304221132141344343322305241330040541515035205512213540230",
            "442013250051105555104512402325144132303304221132144344543332301241330040541515035205512221540230",
            "442013250051105555100040402325144132451204221132144330333332301241334454541515035205512221540230",
            "101400345522515041320040402325141443451204221132413330333332301255104454541515035205512221540230",
            "101401345522515041320040402325141043401205221132413330333332301255204414541515235405552224540130",
            "101450015522515042320440452324141043401205221132410330133332304255204414541515235405552213330130",
            "101440010522115020343421245440425043501215220132410330133332304255254415541515213405552243330130",
            "332240010522115040341421045410425043501215220132410030133331304015455445211215553405552243332324",
            "332240010522115040341421211210425043501204540132410030131522304015455445333115553405552243332324",
            "332240010522115040341421211201325043501204543040410030131522155515455445333110425234023245333542",
            "232210015522515002141140312322143043401204541040410030131522155515435444333010455234523205333542",
            "232210011241515002541120313322243043401204541040450035131222125515435444333010455234550105333542",
            "202210011441505002541120313322243243451205541540450035131222125515135424330010355434530104333442",
            "202210011441431102501125313022253240415425553401450035134222525515135424330010354034530104333442",
            "202210011441431102501125313010353240415425552225450035134222340115135424330052553054443043032314",
            "202210011441431102501125255510353240415442222225450035133300340115135424313052553054443043032314",
            "202510031445431102501125255510353242415142212221030101005534433345133424013042553050443443022315",
            "202510031445555002531120255510302443221222541112430131001534133345133424013042554500443443022315",
            "204510131455551002531120255510302403223222041112430131001534133345133424003042554520441443422355",
            "204510133153551002531150254510102403223222041112440131001434143345133424003042554520525343422355",
            "533041510015213545131150254510100253223222041112240331001434143344013424003042554520525343422355",
            "533041510015213545132232254510100253310022041112240334241434143344011150003042554520525343422355",
            "532041010015214545132232254510100233315022141132240334241434143345011450053042554550520343022315",
            "122441010015214525133232154550100233315022141132240534231432143010050535545241044550520343023443",
            "122341000014214225133232154550100230315322121133113244443320023550055535145241044554520543003441",
            "122334230014214220133032114554100230315322121133110244043330024550055535145241044554520552503441",
            "122334230014214220135535114554100230303222121133110231533330024550054404145241044554520552503441",
            "203110424122243302305535114554101102303222121133500531533330024520134404145241044554520552503441",
            "203115424022213302305535114554101002303221121433500531533330024520434424142241544154500552503141",
            "203141524022213305305235154550101002303221121433501531533340022520434424142241544154500543503141",
            "103131522022113305503341525005154002503241123433501531533340022520424424142441524154200543503141",
            "530531522022113315503341025015154002503241123433501131543341022341421440522424424154200543500350",
            "530531522022113315503341522415154002503202503433501131544112022341421440334124424154200543500350",
            "530531522022113315503341522434334002503202500223501131544112244241421440334115154500505510334240",
            "530511520022213335314235324534105002303222501223501131544112244241441441334515144500505500330240",
            "530511521433213335514205325534505002303222501223501130544212224241441441334515144500411000330240",
            "500510521233223335514205325534505502313220501223501130544212224241141441331515344100441004330440",
            "500510521233534235534203325234522203035251025321001100541212424241141441331515341550441004330440",
            "500510521233534235534203325215342203035251023452001100541212532141141441331542420041444543150300",
            "500510521233534235534203510215342203035212123452001100543315532141141441325242420041444543150300",
            "500410531231534435534203510215342205035212133452145115120033003501145441525212420043444243120302",
            "500410531231423335504200510415333102423251502325545135124033403501145441525212420011444243120302",
            "500410331251422335504200510415333112424251102305545135124033403503145341555210420021442243420312",
            "500410334500422335104250512415133112424251102305525132124433443503145341555210420021500343420312",
            "430303020052514403144250512415133510424251102305311232124433443552515341555210420021500343420312",
            "430303020052514403144242512415133510321251102305311253414433443552514250555210420021500343420312",
            "430303520022512403144242512415133500320251502345311253414433443551514450505212420011501343120302",
            "154003520022512403143242012425133500320251502345311453434430443310225554140254510011501343125312",
            "154003520020512503143242012425133501320351522342445344313341303440222554240204510015501143155311",
            "154053430020512502143542032420133501320351522342445344113331304440222554240204510015501132155311",
            "154053430020512502142554032420133501354251522342445332033331304440224411240204510015501132155311",
            "505110352244503035012554032420134453354251522342402232033331304402144411240204510015501132155311",
            "555110352144513035012554032420134053304252522042402232033331304402344421240204010415551131155311",
            "555103552144513033012154012425134053304252522042401232033331305402344421240204010415551143025311",
            "455133555144213014430521311532020053504242525042401232033331305402354422240004051415251113024311",
            "231433555144213014435521511542020053504242525042401132013333305402404442002350251415251113021033",
            "231433555144213014435521002342020053504251155042401132014252305402404442333350251415251113021033",
            "231433555144213014435521002350420053504251153054401132014252502502404442333342025123110345301211",
            "231433552144013050510054422423132053304251152054401132014252502502414444333142050123510355303211",
            "231433551255013050510014420423332053304251152054421131014452542502414444333142050123022055303211",
            "201430551155003050510014420423332153324255152254421131014452542502114424333142350023032054303411",
            "201430551155434550500013420023303254541512522352321121010452042502114424333142351443032054303411",
            "201430551155434550500013420042353254541512522330321121010452235202114424333104253501443413241003",
            "201430551155434550500013125242353254541504522330321121013331235202114424420004253501443413241003",
            "201030541154434050500013125242353254541504552335111210352133323232114424420014253504443513221000",
            "201030541154523050530015125042342053344235155554411230354133023232114424420014253211443513221000",
            "205030441114525050530015125042342013343235255504411230354133023233114524450011253241442513421020",
            "205030441012525050430015121042142013343235255504451232354433043233114524450011253241515313421020",
            "042054150002231533110015121042145043343235255504201332354433043245124524450011253241515313421020",
            "042054150002231533113432121042145043323535255504201345244433043245120015450011253241515313421020",
            "041054550002235533113432121042145023321535055514201345244433043242120415450014253241513313221000",
            "413354550002235513110432021002145023321535055514201045244431043025051102245440413241513313222343",
            "413354550005235413110432021002145021321335025513044244503321014055052102545430413244513213212342",
            "413345240005235415110532041005145021321335025513041244203331011055052102545430413244513234222342",
            "413345240005235415112102041005145021053235025513041232133331011055054420545430413244513234222342",
            "204430515023454350212102041005140412053235025513550532133331011015114420545430413244513234222342",
            "244435515223414350212102041005140012003230025513550532133331011015314440541430213444553235222542",
            "244454105223414353212502021002140012003230025513553532533351011015314440541430213444553213102542",
            "044404103223514312042011352252003012503210022513553532533351011015344445541530221444453203101542",
            "531004103223514342044011452202003012503210022513553232543355011135410445214325541444453203101235",
            "531004103223514342044011214302003012503245222513553232541002011135410445335525541444453203101235",
            "531004103223514342044011214325133012503245220111553232541002255435410445335502004205431345321401",
            "031054105223114322445102141033145012003235225111553232541002255435410444335402043205531345320401",
            "031054101104114322545132141033345012003235225111553232541202235435410444335402043205502545320401",
            "001050101504114322545132141033345212003235225411553232541202235435110414334402343005552544320401",
            "001050101504531222535134141133312221132120545035553202540202335435110414334402344204552544320401",
            "001050101504531222535134141102342221132120543331553202540202503535110414334433540454445203201254",
            "001050101504531222535134205402342221132102023331553202543344503535110414141133540454445203201254",
            "001350111500531322535134205402342220132002043332244535435230503545110414241143540451445103221251",
            "001350111500444322505134205502313012323230222400544535431230303545110414241143545532445103221251",
            "001350311520440322505134205502313032325230222450544535431230303544110014211141545532444103421251",
            "001350314520440322005124205502113032325230222450514534431430343544110014211141545532535303421251",
            "310313200054054444115124205502112200325230222450303234431430343551450014211141545532535303421251",
            "310313200054054444113252205502112200344330222450303200141430343551455124211141545532535303421251",
            "311313100014051444113252205502112200342330522440303200141430343555455424251143545502534303221251",
            "023413100014051414112252505512112200342330522440303300111431343354144215545355245502534303225042",
            "023013130012051014112252505512112202342330522442310344003313311344144215045345245505534503245045",
            "023000110012051013112152535511112202342330522442314344203333310344144215045345245505534542025045",
            "023000110012051013114215535511112202215230522442314334233333310344144420045345245505534542025045",
            "000050021113021022024215535511113143215230522442441434233333310313114420045345245505534542025045",
            "020055021213011022024215535511113043205231522242441434233333310313014420043345545105514540025445",
            "020013221213011024024015505512113043205231522242445434533303312313014420043345545105514503215445",
            "320023223213211025510151400224515043505201525242445434533303312313004421043145504105314503211445",
            "433323223213211005510151200234515043505201525242445534543304312140415443532001104105314503212042",
            "433323223213211005510151532034515043505220025242445534540152312140415443330401104105314503212042",
            "433323223213211005510151532052425043505220023121445534540152011040415443330434515512042411304302",
            "133343223213111055002315425520114043205230022121445534540152011040445441330034555512542421303302",
            "133343221510111055502345422520414043205230022121435532540152031040445441330034555512114421303302",
            "103340221010111055502345422520414543215231022321435532540152031040145451333034355512104424303402",
            "103340221010430055502341422120413221450251134232235512545152531040145451333034350551104424303402",
            "103340221010430055502341422134353221450251132041235512545152423240145451333053103210440503452041",
            "103340221010430055502341511334353221450251522041235512543330423240145451422153103210440503452041",
            "103540241015430455502341511334353223450251502040540255333232213410145451522103103211440203422041",
            "103540241015531055532342511134312543015245020023440235330232413410145451522103102355440203422041",
            "104540541005532055532342511134312553010245420043440235330232413411145151522103102335442203422001",
            "104540544521532055532302510134112553010245420043420232330432443411145151522103102335541303422001",
            "541045220053144511142302510134115553010245420043255332330432443442025151522103102335541303422001",
            "541045220053144511140102510134115553323345420043255351510432443442022302522103102335541303422001",
            "543045220033142511140102510134115513322345520043255351510432443440022402512103102355543303422041",
            "350145220033142521140102410114115513322345520043255551540433443022100021041342502355543303424213",
            "350345230032142321140102410114115515322345520043405244153355034552103021241312502354543003404212",
            "350351540032142323140202450114115515322345520043400244453335030552103021241312502354543011144212",
            "350351540032142323143021450114115515020245520043400232233335030552104445241312502354543011144212",
            "105340152350324355153021450114114002020245520043521032233335030523144445241312502354543011144212",
            "155341152450314355153021450114114002000243520243521032233335030523244415244312302054523015144012",
            "155345052450314351153521410114114002000243520243524032133315035523244415244312302054523003214012",
            "455305054450014351111201151453412002500203524243524032133315035523234412244412310054323053214012",
            "035505054450014331115201551443412002500203524243524232113310035412422443341214230054323053215115",
            "035505054450014331115201341243412002500255144243524232110352035412422443331014230054323053215115",
            "035505054450014331115201341242432002500255140354524232110352142312422443331043414015532102310355",
            "135505053450214343532421410132110002000245140354524232110352142312402440331543442015532152310355",
            "135505051025214343532431412132110002000245140354534234110552102312402440331543442015432252310355",
            "105500051525234343532431412132110002030242140354534234110552102312102400335543342415412254310455",
            "105500051525530143532434412332122244001503230040534214114552202312102400335543343111412254310455",
            "105500051525530143532434412343342244001503233212534214114552004012102400335520230543441153215121",
            "105500051525530143532434032343342244001545523212534214113355004012102400412320230543441153215121",
            "105200041522530143532434032343342245001545553211215041543430513012101400112330230544441553225122",
            "105200041522434343502435032443343402250215141555515031540430113012101400112330235342441553225122",
            "100200041512435343502435032443343442251215241525515031540430113014101200102335235302441553425122",
            "100200041141435343202415035443143442251215241525555031540430143014101200102335235302532353425122",
            "241300450013101414102415035443144320251215241525344231540430143055501200102335235302532353425122",
            "241300450013101414102512035443144320315415241525344212000430143055502415102335235302532353425122",
            "245300050043105414102512035443144310314415141515344212000430143052502415122330235322535353225122",
            "402100050043105454101512235423144310314415141515344212040435143305335122242052135322535353220002",
            "402000040044105554101512235423144312314315121512101344243304354245333122542012135325535253250000",
            "402012040044105554101012205420144312314315121512105344243334355245333122542012135325535245330000",
            "402012040044105554103122205420144312101215121512105331433334355245334424542012135325535245330000",
            "101400205402544043123122205420141053101215121512453331433334355254104424542012135325535245330000",
            "111402205202514043123122205420141053101214121412453331433334355254004454543012335025505245330500",
            "111400135202514044123522235423141053101214121412450331233324350254004454543012335025505253430500",
            "111410131202114022441251453343225053501254120412450331233324350254054455543012313025005243430500",
            "334210131202114042441251153313225053501254120412450031203325350015452444335010553025005243432144",
            "334210131202114042441251335013225053501215330412450031205412350015452444332510553025005243432144",
            "334210131202114042441251335004125053501215333500450031205412105515452444332513225234254400313042",
            "234250134202514003144322155420143053101215331500450031205412105515432440332213255234554410313042",
            "234250131521514003544352154420443053101215331500440032205012125515432440332213255234041510313042",
            "204250131521554003544352154420443253141210331000440032205012125515132450330213355234021514313442",
            "204250131521435103504354154520453230513024003111440032202012525515132450330213354244021514313442",
            "204250131521435103504354154513353230513024002045440032202012311115132450330252553104442243142154",
            "204250131521435103504354240013353230513020122045440032203302311115132450154552553104442243142154",
            "204550111522435103504354240013353232513320112041002102014231433345134450254542553100442043122155",
            "204550111522504003534351240013302253001241331132402132015231133345134450254542554400442043122155",
            "205550111532503003534351240013302203002241131152402132015231133344134250214544554420445043422155",
            "205550110223503003234331245013102203002241131152402135015431143344134250214544554420550343422155",
            "513051230020250544134331245013100323002241131152220335015431143340214250214544554420550343422155",
            "513051230020250544130022245013100323350141131152220342505431143340214331214544554420550343422155",
            "514051130030250544130022245013100333352141231102220342505431143345214431204542554420550343122155",
            "120451130030250524131022545053100333352141231102220542515434143011552345540244244420550343123103",
            "120351110033250224131022545053100330352341221103154244223350041551550345340244244424550543123101",
            "120342510033250221131122515055100330352341221103152244123330044551550345340244244424550540433101",
            "120342510033250221130345515055100330112241221103152235233330044551554412340244244424550540433101",
            "204150220350231303300345515055101522112241221103515535233330044521134412340244244424550540433101",
            "224150220150211303300345515055101022102243221303515535233330044521134402345244444524510541433101",
            "224151330150211304300145545053101022102243221303515535033320042521134402345244444524510543253101",
            "124111334150111305003451414300554022502243223303515535033320042521124400345544424524210523253101",
            "530511334150111315004451214310554022502243223303515135003321042343424441450125024524210523250340",
            "530511334150111315004451450110554022502221433303515135004322042343424441332125024524210523250340",
            "530511334150111315004451450133034022502221430423515135004322250243424441332110554550202451334220",
            "530511331150211334413545005031105022102241431423515135004322250243444445332210544550502421330220",
            "530511331544211334513505002031405022102241431423515131004522200243444445332210544550535121330220",
            "500510331144241334513505002031405522132241431223515131004522200243144455331210344550525124330420",
            "500510331144534234533501002431422233224253125141015151005522400243144455331210341500525124330420",
            "500510331144534234533501002410342233224253123142015151005522514143144455331240020251442523500310",
            "500510331144534234533501531210342233224255223142015151003312514143144455002440020251442523500310",
            "500410301144534434533501531210342235224355243142102150141131053503140455502410020253442223520312",
            "500410301144421334503502531510333522152242432435502130144131453503140455502410020151442223520312",
            "502410201144423334503502531510333552152242532415502130144131453501140455532410020101440223420332",
            "502410200015423334403542531510133552152242532415522130144431443501140455532410020101501323420332",
            "405322130002510401143542531510133440152242532415355230144431443552210455532410020101501323420332",
            "405322130002510401141522531510133440301442532415355204554431443552213542532410020101501323420332",
            "400322330052512401141522531510133450301442032405355204554431443553213442512410020141501323520312",
            "151022330052512401143522131520133450301442032405355404504430443312422420341053510141501323525152",
            "151022340053512501143522131520133451301342022402440344453355300442422420341003510145501323525151",
            "151004500053512504143322121522133451301342022402442344553335302442422420341003510145501315305151",
            "151004500053512504142420121522133451332242022402442330133335302442424455341003510145501315305151"
    };
}

